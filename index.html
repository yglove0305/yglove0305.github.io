<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>달빛도구 — index.html 설명서</title>
  <style>
    body{font-family: "Noto Sans KR", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; line-height:1.6; color:#07203a; padding:28px; max-width:980px; margin:auto}
    h1,h2,h3{color:#042033}
    pre{background:#f6f8fb;padding:12px;border-radius:8px;overflow:auto}
    code{background:#eef4fb;padding:2px 6px;border-radius:4px}
    .meta{font-size:0.95rem;color:#355168}
    .section{margin:24px 0;padding:16px;border:1px solid #e6eef8;border-radius:10px;background:#fff}
    ul{margin:8px 0 8px 20px}
  </style>
</head>
<body>
  <h1>index.html 파일 상세 설명서</h1>
  <p class="meta">원본 파일: <a href="https://github.com/yglove0305/make-moonlight/blob/e88c08e2487dabf79b49ee329da27f5aac7c99ea/index.html" target="_blank" rel="noopener">index.html (commit e88c08e)</a></p>

  <section class="section">
    <h2>문서 개요</h2>
    <p>이 문서는 프로젝트의 루트에 위치한 <code>index.html</code> 파일을 분석하고, 구조, 스타일링, 접근성, 스크립트 동작 및 개선 제안까지 포함한 상세한 설명서입니다. 원본 파일은 "달빛도구"라는 툴 모음의 메인 페이지로 설계되어 있으며, 다크/라이트 테마, 카드형 메뉴, 간단한 애니메이션과 접근성 속성을 갖추고 있습니다.</p>
  </section>

  <section class="section">
    <h2>주요 목적과 기능</h2>
    <ul>
      <li>작은 도구(캘린더, 메트로놈, 샘플, 로컬 메신저 등)를 카드 UI로 노출하여 사용자가 빠르게 이동하도록 돕습니다.</li>
      <li>다크/라이트 테마 전환을 제공하여 다양한 환경에서 가독성과 사용자 경험을 향상시킵니다.</li>
      <li>경량 CSS 기반 인터페이스로 빠른 로딩과 단순한 유지보수를 목표로 합니다.</li>
      <li>모바일 반응형 레이아웃을 지원합니다.</li>
    </ul>
  </section>

  <section class="section">
    <h2>파일 구조 요약</h2>
    <p>단일 HTML 파일로 구성되어 있으며 주요 섹션은 다음과 같습니다.</p>
    <ol>
      <li>&lt;head&gt;: 메타 태그(SEO, Open Graph, Twitter Card), 웹폰트 로드, 스타일 선언</li>
      <li>&lt;body&gt;: 스타필드(시각 효과), &lt;header&gt; (브랜드/제목/테마 토글), &lt;main&gt; (카드 그리드 및 소개), &lt;footer&gt;</li>
      <li>하단 스크립트: 테마 토글 로직(로컬스토리지 저장 및 prefers-color-scheme 초기 감지)</li>
    </ol>
  </section>

  <section class="section">
    <h2>&lt;head&gt; 내부 세부 설명</h2>
    <h3>메타 / SEO</h3>
    <ul>
      <li><code>&lt;meta charset="UTF-8"&gt;</code> — 문자 인코딩 설정(한글 지원).</li>
      <li><code>viewport</code> — 모바일 반응형을 위한 기본 설정.</li>
      <li><code>description</code>, <code>keywords</code>, <code>author</code> — 검색 엔진 메타 정보. description이 중간에 잘린 부분(원본 파일에서 "디자인되었�[...]")이 있어 보이며, 파일에서 보완이 필요합니다.</li>
    </ul>

    <h3>소셜 카드(Open Graph/Twitter)</h3>
    <ul>
      <li>OG/Twitter 메타: 제목, 설명, 이미지, url 등이 설정되어 있으며, SNS 공유 시 미리보기에 사용됩니다.</li>
      <li>이미지 경로가 루트 상대 경로(<code>/img/Copilot_20250927_135650.png</code>)로 지정되어 있어 배포 환경에 따라 경로 문제가 발생할 수 있습니다(예: 서브경로에 배포 시).</li>
    </ul>

    <h3>웹앱 메타</h3>
    <ul>
      <li>theme-color, application-name, apple-mobile-web-app-* 등 PWA/홈화면 관련 메타가 포함되어 있어 모바일에서 웹앱처럼 보이게 할 준비가 되어 있습니다.</li>
    </ul>

    <h3>웹폰트</h3>
    <p>Google Fonts의 'Noto Sans KR' 로드가 포함되어 있어 한국어 가독성이 우수합니다.</p>
  </section>

  <section class="section">
    <h2>스타일(CSS) 분석</h2>
    <p>파일에서 스타일은 내부 &lt;style&gt; 태그에 작성되어 있으며, 다음과 같은 특징이 있습니다.</p>

    <h3>디자인 토큰(변수)</h3>
    <p>:root에 CSS 변수로 색상, 반경, 섀도우 등 디자인 토큰을 정의해 두어 테마 전환과 유지보수를 쉽게 합니다. 예:</p>
    <pre><code>:root{
  --bg-1: #071026;
  --bg-2: #0f2340;
  --bg-3: #2b3e66;
  --accent-a: #4dd0e1;
  --accent-b: #8c9eff;
  --text: #eef6ff;
  --muted: #b9c7d6;
  --radius: 14px;
}</code></pre>

    <h3>라이트 테마 지원</h3>
    <p><code>:root[data-theme="light"]</code> 셀렉터를 통해 라이트 테마를 오버라이드합니다. JavaScript는 루트 엘리먼트에 <code>data-theme="light"</code>를 추가/제거하여 테마를 변경합니다.</p>

    <h3>레이아웃</h3>
    <ul>
      <li>전체 배경은 복수의 radial/linear gradient로 구성되어 있어 심도 있는 그래픽을 제공합니다.</li>
      <li><code>.grid</code>는 CSS Grid를 사용하여 카드들을 반응형으로 배치합니다. <code>grid-template-columns: repeat(auto-fit, minmax(220px, 1fr))</code>로 작은 화면에서도 카드가 자연스럽게 줄바꿈됩니다.</li>
      <li>카드는 카드 호버 시 상승(translateY)과 섀도우 강화로 인터랙션을 제공합니다.</li>
    </ul>

    <h3>스타필드(별 효과)</h3>
    <p><code>.starfield</code> 가상요소(::before, ::after)를 사용해 성능을 고려한 단순 별 효과를 구현했습니다. CSS 기반이므로 JS 오버헤드가 적습니다.</p>

    <h3>애니메이션</h3>
    <p>카드와 헤더 제목은 'rise' 키프레임 애니메이션으로 등장 효과를 갖습니다. <code>will-change</code>와 transform을 활용해 GPU 가속을 유도합니다.</p>
  </section>

  <section class="section">
    <h2>HTML 구조 및 접근성(a11y)</h2>

    <h3>시맨틱 마크업</h3>
    <ul>
      <li>&lt;header role="banner"&gt;, &lt;main role="main"&gt;, &lt;footer role="contentinfo"&gt; 등 시맨틱 영역을 사용했습니다.</li>
      <li>각 도구 항목은 &lt;article role="article"&gt;로 감싸져 있고, 각 제목은 id를 통해 <code>aria-labelledby</code>로 참조되고 있습니다.</li>
    </ul>

    <h3>ARIA 및 키보드 접근성</h3>
    <ul>
      <li>테마 토글 버튼에 <code>aria-pressed</code> 속성을 사용해 상태를 표시합니다.</li>
      <li>컨트롤 영역에 <code>role="toolbar"</code> 및 <code>aria-label</code>이 있어 스크린리더에게 목적을 제공합니다.</li>
      <li>그러나 개선 가능한 점: 각 카드의 링크(열기/사용하기)는 anchor 태그로 시맨틱하지만, 키보드 포커스 스타일이 명시적으로 지정되어 있지 않으므로 포커스가 보이는 스타일을 추가하면 접근성이 좋아집니다.</li>
    </ul>

    <h3>국제화(i18n)</h3>
    <p>문서 최상단에 <code>html lang="ko"</code>로 선언되어 있어 한글 환경에 맞춰져 있습니다. 향후 다국어 지원이 필요하면 lang 속성 및 콘텐츠 분기 로직(또는 정적 번들)을 고려하세요.</p>
  </section>

  <section class="section">
    <h2>자바스크립트: 테마 토글 설명</h2>
    <p>하단의 즉시 실행 함수(IIFE)는 테마를 관리합니다. 동작 요약:</p>
    <ol>
      <li>로컬스토리지 키 <code>ml-tools-theme</code>에서 이전 선택을 읽습니다.</li>
      <li>저장된 값이 없으면 사용자의 <code>prefers-color-scheme</code> 미디어 쿼리로 초기값을 결정합니다.</li>
      <li>버튼 클릭 시 라이트/다크를 스위치하고 로컬스토리지에 저장합니다.</li>
    </ol>

    <h3>핵심 코드(원본에서 발췌)</h3>
    <pre><code>(function(){
  const root = document.documentElement;
  const key = 'ml-tools-theme';
  const btn = document.getElementById('themeToggle');

  function applyTheme(theme){
    if(theme === 'light') root.setAttribute('data-theme','light');
    else root.removeAttribute('data-theme');
    btn.setAttribute('aria-pressed', theme === 'light' ? 'true' : 'false');
    btn.textContent = theme === 'light' ? '🌤 라이트' : '🌙 다크';
  }

  const saved = localStorage.getItem(key);
  if(saved) applyTheme(saved);
  else {
    const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
    applyTheme(prefersLight ? 'light' : 'dark');
  }

  btn.addEventListener('click', function(){
    const current = root.getAttribute('data-theme') === 'light' ? 'light' : 'dark';
    const next = current === 'light' ? 'dark' : 'light';
    applyTheme(next);
    localStorage.setItem(key, next);
  });
})();</code></pre>

    <h3>개선 제안</h3>
    <ul>
      <li>localStorage 접근 시 예외 처리를 추가하여 프라이빗 모드 등에서 오류가 발생하지 않도록 합니다.</li>
      <li>테마 변경 시 문서를 재렌더링하거나 애니메이션을 끄는 로직을 고려하면 시각적 불편을 줄일 수 있습니다.</li>
      <li>서버 사이드 렌더링(SSR)을 쓰는 경우 초기 테마를 서버에서 결정해 FOUC(flash of unstyled content)를 완화할 수 있습니다.</li>
    </ul>
  </section>

  <section class="section">
    <h2>링크 맵(내부 페이지 목록)</h2>
    <p>index.html의 카드에서 연결하는 경로들입니다. 각 경로가 실제로 존재하는지(404 여부)는 저장소의 파일 목록을 확인해야 합니다.</p>
    <ul>
      <li>/make/calendar.html — 캘린더</li>
      <li>/make/metronome.html — 메트로놈</li>
      <li>/make/sample.html — 샘플/템플릿</li>
      <li>/make/local-messenger.html — 로컬 메신저 (지원 안함으로 표시)</li>
      <li>/make/storage-space.html — 저장공간 마스터</li>
      <li>/make/스타크래프트.html — 스타 1 게임 팁 (한글 파일명 주의)</li>
      <li>/make/puzzle.html — 똑같은 카드 찾기 (게임)</li>
      <li>/make/book.html — 동물, 곤충 도감</li>
      <li>/make/money.html — 용돈 기입장</li>
      <li>/make/happy.html — footer에 연결된 페이지</li>
    </ul>

    <p class="meta">참고: 파일명에 한글(예: "스타크래프트.html")이 있는 경우 서버와 배포 파이프라인에서 인코딩 문제가 생길 수 있으므로 URL 인코딩 혹은 영문 별칭을 고려하세요.</p>
  </section>

  <section class="section">
    <h2>성능 및 최적화 노트</h2>
    <ul>
      <li>스타일이 인라인되어 있어 첫 페인트에는 CSS 파일 호출이 없지만, 이로 인해 캐싱 이점은 적습니다. 여러 페이지가 동일 스타일을 공유한다면 외부 CSS 파일로 분리하는 것이 좋습니다.</li>
      <li>사용 중인 그래픽(OG 이미지 등)은 빌드 시 최적화(크기, 포맷 변환)를 권장합니다(WebP/AVIF 고려).</li>
      <li>font-display 교체(예: <code>&amp;display=swap</code>)는 이미 포함되어 있어 폰트 로드 차단을 줄입니다.</li>
      <li>애니메이션/섀도우는 적절히 GPU 가속(transform/opacity)만 사용하고 있으므로 모바일 퍼포먼스에 큰 부담은 없을 것으로 보입니다.</li>
    </ul>
  </section>

  <section class="section">
    <h2>접근성 향상 권장 사항</h2>
    <ul>
      <li>하이 컨트라스트 모드, 시각 장애인을 위한 더 명확한 포커스 스타일 추가(예: <code>outline</code> 또는 <code>box-shadow</code> 적용).</li>
      <li>모든 상징적 이모지(아이콘)는 <code>aria-hidden="true"</code>로 숨겼지만, 보충 텍스트가 필요한 경우 스크린리더 전용 텍스트로 대체하세요.</li>
      <li>이미지에 대해 대체 텍스트(og 이미지 제외)를 사용할 때는 <code>alt</code> 또는 ARIA 레이블을 추가합니다.</li>
      <li>키보드로만 조작 시 테스트(탭 순서, 버튼 작동 확인).</li>
    </ul>
  </section>

  <section class="section">
    <h2>보안 및 배포 관련 주의사항</h2>
    <ul>
      <li>링크에 <code>rel="noopener"</code>가 포함되어 있어 보안상 양호합니다. 외부 링크가 있다면 <code>rel="noreferrer"</code>도 고려하세요.</li>
      <li>공개 배포 시 OG url(현재는 https://make-moonlight.vercel.app/)이 정확한지 확인하세요.</li>
      <li>파일명(특히 한글)이 포함된 경로는 일부 호스팅 환경에서 문제를 일으킬 수 있으므로 테스트가 필요합니다.</li>
    </ul>
  </section>

  <section class="section">
    <h2>유지보수 / 확장 제안</h2>
    <ol>
      <li>공통 스타일을 외부 CSS 파일로 분리해 재사용 및 캐싱 이점을 가져가세요.</li>
      <li>컴포넌트화: 카드, 버튼, 토글 같은 UI를 모듈화(예: Web Components, React/Vue 등)하면 확장에 유리합니다.</li>
      <li>테마를 more accessible하게 만들기 위해 CSS 변수에 의한 컬러 대비 검사(자동화)를 도입하세요.</li>
      <li>테스트: 주요 페이지의 링크 유효성 검사(자동화된 CI 체크), 접근성 자동화 도구(aXe, Lighthouse) 도입 권장.</li>
      <li>다국어 지원: JSON 기반의 번역 파일과 빌드 시 정적 페이지 생성(예: i18n 스태틱 빌드)을 고려하세요.</li>
    </ol>
  </section>

  <section class="section">
    <h2>변경 로그(원본에서 유추)</h2>
    <p>index.html 내부의 소개 카드에 다음 문구가 있습니다: <strong>✨ 새 버전 v.1.3 — 게임을 추가 했어요! 그리고 버그를 패치했어요!</strong> 이를 통해 최근 업데이트에서 게임 항목(퍼즐, 스타크래프트 팁 등)이 추가된 것으로 보입니다.</p>
  </section>

  <section class="section">
    <h2>요약 및 다음 권장 작업</h2>
    <p>요약하자면, 이 <code>index.html</code>은 시각적으로 완성도 높은 카드형 포털을 제공하며, 접근성 및 퍼포먼스에 대한 기본 고려가 되어 있습니다. 다만 다음을 권장합니다:</p>
    <ul>
      <li>description meta의 잘린 부분을 복원/수정</li>
      <li>한글 파일명 사용에 따른 배포 이슈 확인</li>
      <li>공통 스타일 외부 CSS로 분리 및 캐싱 전략 수립</li>
      <li>포커스 스타일, 키보드 네비게이션, localStorage 예외 처리 등 접근성/내구성 강화</li>
    </ul>

    <p class="meta">원하시면 이 문서를 저장소에 README 또는 docs 페이지로 추가해 드리겠습니다. 또한, 제가 바로 코드 수정(예: meta description 보완, 포커스 스타일 추가, localStorage 보호 래핑)을 PR로 만들어 드릴 수도 있습니다. 어떤 작업을 먼저 진행할까요?</p>
  </section>

  <footer style="margin-top:24px;color:#557088;font-size:0.9rem">
    생성일: 2025-10-05 — 작성자: 자동문서생성기(요청: yglove0305)
  </footer>
</body>
</html>
